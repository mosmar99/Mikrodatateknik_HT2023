* Hur mÃ¥nga procent har kondensatorn
* laddats efter 3 * ğ‰? (ofta bra nog)
** ca 95%

* Efter 5 * ğ‰? (hÃ¶g precision)
** ca 99%

* Vad Ã¤r sample-and-holdkondensatorns storlek? VÃ¤rsta fallet
* Ã¤r hÃ¶gsta vÃ¤rdet, sÃ¥ anvÃ¤nd detta.
** 7 pF

* Vilken resistans ger switchen?
** 6 kÎ©

* Givet enbart dessa, vad blir 5 * ğ‰?
** ğ‰ = RC = 6 kÎ© Ã— 7 pF = 42 * 10^(3) * 10^(-12)
**   = 42 * 10^(-9) ns = 42 ns
** 5ğ‰ <=> 210 ns <=> 0.21 Âµs

* Hur lÃ¥ng Ã¤r en av ADC:ns klockcykler?
* Dvs. T_ADC = 1 / f_ADC
* (enheten Ã¤r sekunder per klockcykel)
** f_ADC = ?
** Clock Prescaler = PCLK2/4 = 25 MHz
** PCLK2 = 100 Mhz
** T_ADC = 1 / 25 MHz = 0.04 Âµs / klockcykel = 40 ns / klockcykel


* Hur mÃ¥nga klockcykler krÃ¤vs fÃ¶r att
* hinna med 5 * ğ‰? RÃ¤kna alltsÃ¥ ut
*     n_SAMP = t_5ğ‰ / T_ADC
** n_SAMP = 210ns/40ns = 5.25 klockcyklar â‰ˆ 6 klockcyklar
** => BÃ¶r alltsÃ¥ sampla med Ã¥tminstone (avrundat uppÃ¥t till nÃ¤rmsta heltal) varje sjÃ¤tte klockcykel
**      : detta fÃ¶r att garantera att kondensatorn hunnit ladda upp till 99% av sitt max-vÃ¤rde

* Vilket Ã¤r det minsta
* samplingalternativ i CubeMX som
* krÃ¤vs fÃ¶r detta?
** CubeMX har klocksamplings alternativen: 3, 15, 28, ..., 480 cyklar
** FÃ¶r en till 99% uppladdad kondensator krÃ¤vdes 5.25 â‰ˆ 6 klockcyklar. 
**      : Det nÃ¤rmsta samplingalternativet dÃ¤r kondensatorn hunnit laddas upp till 99% Ã¤r dÃ¥ 15 klockcyklar

* Antag att C_s = 0. Vad blir 5*ğ‰ nÃ¤r R_s
* ges av en termistor som den som
* nÃ¤mns ovan?
** 5*ğœ = 5*(R_s+R_switch)*(C_sample + C_s) =  5 * (20kğ›º + 6kğ›º) * (7pF + 0) = 910 ns 

* Vad blir n_SAMP och vilket vÃ¤rde pÃ¥
* samplingstid mÃ¥ste du vÃ¤lja i CubeMX
* fÃ¶r att garantera en god avlÃ¤sning?
** n_SAMP = 5_5ğ‰ / T_ADC = 0 / 40ns = 0 klockcyklar, alltsÃ¥ fungerar vilken som helst 

* Extra: 
* Vad kan hÃ¤nda om man samplar fÃ¶r kort
* tid? TÃ¤nk ett scenario med flera olika
* kÃ¤llor som konverteras med kort
* mellanrum. Vad hÃ¤nder om nr 1 Ã¤r 0V
* och nr 2 Ã¤r 3.3V?
** Om man har en mycket kort samplingstid kan ADC (Analog-Digital Converter) inte hinna fÃ¥nga de snabba spÃ¤nningsÃ¤ndringarna mellan de tvÃ¥ kÃ¤llorna. Detta kan leda till fÃ¶ljande problem:
** Felaktig avlÃ¤sning: Med en kort samplingstid kan ADC ge en felaktig avlÃ¤sning som inte Ã¥terspeglar de verkliga spÃ¤nningsfÃ¶rÃ¤ndringarna mellan kÃ¤llorna. Du kanske inte kan sÃ¤rskilja mellan 0V och 3.3V korrekt.